<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangboard Trainer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Navigation -->
        <nav class="navbar">
            <h1 class="logo" onclick="returnToHome()" style="cursor: pointer;" title="Return to Home">üí™ Hangboard Trainer</h1>
            <div class="nav-actions">
                <a href="../index.html" class="portfolio-home-btn" title="Back to Portfolio">
                    <span class="home-icon">üè†</span>
                    <span class="home-text">Portfolio</span>
                </a>
                <button class="nav-btn" onclick="showSettings()">‚öôÔ∏è Settings</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="mainContent">
            <!-- IDLE SCREEN (Default) -->
            <div id="idleScreen" class="screen active">
                <div class="hero-section">
                    <h2>Hangboard Trainer</h2>
                    <p class="subtitle">Select a workout mode to begin training</p>
                    <div class="stats-card">
                        <div class="stat-item">
                            <span class="stat-label">Total Reps</span>
                            <span class="stat-value" id="totalReps">0</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Start -->
                <div class="workout-category">
                    <h3>üöÄ Quick Start</h3>
                    <div class="workout-card" onclick="startQuickWorkout()">
                        <h4>Quick Start Pull-ups</h4>
                        <p>Default: 10 reps √ó 3 sets, 60s rest</p>
                        <button class="btn-primary">Start Now</button>
                    </div>
                </div>

                <!-- Pull-up Workouts -->
                <div class="workout-category">
                    <h3>üí™ Pull-up Workouts</h3>
                    <div class="workout-grid">
                        <div class="workout-card" onclick="showWorkoutConfig('fixedSets')">
                            <div class="workout-icon">üéØ</div>
                            <h4>Fixed Sets</h4>
                            <p>Customizable goal reps and sets</p>
                            <button class="btn-start">Configure</button>
                        </div>
                        <div class="workout-card" onclick="showWorkoutConfig('maxReps')">
                            <div class="workout-icon">üèÜ</div>
                            <h4>Max Reps Test</h4>
                            <p>See how many you can do</p>
                            <button class="btn-start">Configure</button>
                        </div>
                        <div class="workout-card" onclick="showWorkoutConfig('emom')">
                            <div class="workout-icon">‚è±Ô∏è</div>
                            <h4>EMOM</h4>
                            <p>Every Minute On the Minute</p>
                            <button class="btn-start">Configure</button>
                        </div>
                    </div>
                </div>

                <!-- Hang Workouts -->
                <div class="workout-category">
                    <h3>üßó Hang Workouts</h3>
                    <div class="workout-grid">
                        <div class="workout-card" onclick="showWorkoutConfig('intervals')">
                            <div class="workout-icon">‚è≤Ô∏è</div>
                            <h4>Intervals</h4>
                            <p>Timed hangs with rest cycles</p>
                            <button class="btn-start">Configure</button>
                        </div>
                    </div>
                </div>

                <!-- Structured Hangboard Workouts -->
                <div class="workout-category">
                    <h3>üèîÔ∏è Structured Hangboard Programs</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;">
                        Research-backed protocols for finger strength and endurance
                    </p>
                    <div class="workout-grid">
                        <div class="workout-card" onclick="startStructuredWorkout('beginner')">
                            <div class="workout-icon">üå±</div>
                            <h4>Beginner</h4>
                            <p>Jugs & 20mm edges ‚Ä¢ ~20 min</p>
                            <button class="btn-start">Start</button>
                        </div>
                        <div class="workout-card" onclick="startStructuredWorkout('intermediate')">
                            <div class="workout-icon">üìà</div>
                            <h4>Intermediate</h4>
                            <p>15mm edges & sloper ‚Ä¢ ~25 min</p>
                            <button class="btn-start">Start</button>
                        </div>
                        <div class="workout-card" onclick="startStructuredWorkout('endurance')">
                            <div class="workout-icon">‚è±Ô∏è</div>
                            <h4>Endurance</h4>
                            <p>Long hangs 20-45s ‚Ä¢ ~25 min</p>
                            <button class="btn-start">Start</button>
                        </div>
                        <div class="workout-card" onclick="startStructuredWorkout('pro')">
                            <div class="workout-icon">üíé</div>
                            <h4>Pro</h4>
                            <p>Max hangs 10-15mm ‚Ä¢ ~30 min</p>
                            <button class="btn-start">Start</button>
                        </div>
                        <div class="workout-card" onclick="startStructuredWorkout('athlete')">
                            <div class="workout-icon">üî•</div>
                            <h4>Athlete</h4>
                            <p>5-15mm high intensity ‚Ä¢ ~35 min</p>
                            <button class="btn-start">Start</button>
                        </div>
                    </div>
                </div>

                <!-- History -->
                <div class="workout-category">
                    <h3>üìä History</h3>
                    <div class="history-card">
                        <div class="history-item">
                            <span>Max Reps:</span>
                            <span class="history-value" id="maxReps">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- WORKOUT CONFIG SCREENS -->
            <div id="configScreen" class="screen">
                <div class="config-container">
                    <h2 id="configTitle">Configure Workout</h2>
                    <div id="configOptions"></div>
                    <div class="config-actions">
                        <button class="btn-secondary" onclick="backToIdle()">Back</button>
                        <button class="btn-primary" onclick="startConfiguredWorkout()">Start Workout</button>
                    </div>
                </div>
            </div>

            <!-- STRUCTURED WORKOUT PREVIEW SCREEN -->
            <div id="previewScreen" class="screen">
                <div class="config-container">
                    <h2 id="previewTitle">Workout Preview</h2>
                    <p id="previewDescription" style="color: var(--text-secondary); margin-bottom: 1rem;"></p>
                    <div id="previewSteps" style="max-height: 400px; overflow-y: auto; margin-bottom: 1rem;"></div>
                    <div class="config-actions">
                        <button class="btn-secondary" onclick="backToIdle()">Back</button>
                        <button class="btn-primary" onclick="confirmStartStructuredWorkout()">Start Workout</button>
                    </div>
                </div>
            </div>

            <!-- WORKOUT RUNNING SCREEN -->
            <div id="workoutScreen" class="screen">
                <div class="workout-container">
                    <div class="workout-header">
                        <div>
                            <h2 id="workoutName">Workout</h2>
                            <p id="workoutProgress">Set 1 / 3</p>
                        </div>
                        <button class="btn-danger" onclick="endWorkout()">End</button>
                    </div>

                    <div class="workout-display">
                        <div class="workout-metric">
                            <span class="metric-label" id="metricLabel">Reps</span>
                            <span class="metric-value" id="metricValue">0 / 10</span>
                        </div>
                        <div class="workout-status" id="workoutStatus"></div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                    </div>

                    <div class="workout-controls">
                        <button class="btn-control" id="pauseBtn" onclick="togglePause()">‚è∏Ô∏è Pause</button>
                        <button class="btn-control" id="rewindBtn" onclick="rewindWorkout()" style="display: none;">‚èÆÔ∏è Redo</button>
                        <button class="btn-control" id="skipHangBtn" onclick="skipCurrentHang()" style="display: none;">‚è≠Ô∏è Skip Hang</button>
                        <button class="btn-control" id="skipSetBtn" onclick="skipCurrentSet()" style="display: none;">‚è© Skip Set</button>
                    </div>
                </div>
            </div>

            <!-- REST SCREEN -->
            <div id="restScreen" class="screen">
                <div class="rest-container">
                    <h2>Rest Period</h2>
                    <div class="rest-timer" id="restTimer">00:60</div>
                    <p id="restMessage">Next: Set 2</p>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="restProgressBar"></div>
                    </div>
                    <button class="btn-secondary" onclick="skipRest()">Skip Rest</button>
                </div>
            </div>

            <!-- WORKOUT COMPLETE SCREEN -->
            <div id="completeScreen" class="screen">
                <div class="complete-container">
                    <div class="complete-icon">üéâ</div>
                    <h2>Workout Complete!</h2>
                    <div class="complete-stats" id="completeStats"></div>
                    <button class="btn-primary" onclick="backToIdle()">Back to Menu</button>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <h2>Settings</h2>
                <div class="setting-item">
                    <label>Distance Threshold (cm):</label>
                    <input type="number" id="distanceThreshold" value="20">
                </div>
                <div class="setting-item">
                    <label>Sleep Timeout:</label>
                    <select id="sleepTimeout">
                        <option value="1">1 min</option>
                        <option value="2" selected>2 min</option>
                        <option value="5">5 min</option>
                        <option value="never">Never</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" onclick="closeSettings()">Cancel</button>
                    <button class="btn-primary" onclick="saveSettings()">Save & Back</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

